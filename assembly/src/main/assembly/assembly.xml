<assembly>
    <id>jar</id>

    <formats>
        <format>jar</format>
    </formats>

    <includeBaseDirectory>false</includeBaseDirectory>

    <dependencySets>
        <dependencySet>
            <includes>
                <include>com.pingcap.tispark:tispark-core-internal_2.12:jar</include>
                <include>com.pingcap.tikv:tikv-client:jar</include>
                <include>mysql:mysql-connector-java:jar</include>
            </includes>
            <unpack>true</unpack>
        </dependencySet>
    </dependencySets>

    <fileSets>
        <fileSet>
            <directory>
                ${project.parent.basedir}/spark-wrapper/spark-2.3/target/classes/
            </directory>
            <outputDirectory>resources/spark-wrapper-spark-2.3_2.12</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>
                ${project.parent.basedir}/spark-wrapper/spark-2.4/target/classes/
            </directory>
            <outputDirectory>resources/spark-wrapper-spark-2.4_2.12</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>
                ${project.parent.basedir}/spark-wrapper/spark-3.0/target/classes/
            </directory>
            <outputDirectory>resources/spark-wrapper-spark-3.0_2.12</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
    </fileSets>
</assembly>
